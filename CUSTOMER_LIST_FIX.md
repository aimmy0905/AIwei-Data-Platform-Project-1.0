# å®¢æˆ·åˆ—è¡¨èœå•è·³è½¬é—®é¢˜ä¿®å¤

## é—®é¢˜æè¿°
ç”¨æˆ·ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„"å®¢æˆ·åˆ—è¡¨"èœå•é¡¹æ—¶ï¼Œæ— æ³•æ­£ç¡®è·³è½¬åˆ°å®¢æˆ·åˆ—è¡¨é¡µé¢ã€‚

## é—®é¢˜åˆ†æ
1. èœå•é…ç½®æ­£ç¡®ï¼šåœ¨ `src/mock/menu.ts` ä¸­ï¼Œå®¢æˆ·åˆ—è¡¨èœå•é¡¹çš„è·¯å¾„è®¾ç½®ä¸º `/customers`
2. è·¯ç”±é…ç½®æ­£ç¡®ï¼šåœ¨ `src/router/index.ts` ä¸­ï¼Œ`/customers` è·¯ç”±æŒ‡å‘ `CustomerListView.vue`
3. é¡µé¢å­˜åœ¨ï¼š`src/views/customers/CustomerListView.vue` æ–‡ä»¶å­˜åœ¨ä¸”å†…å®¹å®Œæ•´

é—®é¢˜å¯èƒ½å‡ºç°åœ¨ä¾§è¾¹æ çš„èœå•ç‚¹å‡»å¤„ç†é€»è¾‘ä¸­ã€‚

## ä¿®å¤æ–¹æ¡ˆ

### 1. ä¼˜åŒ–èœå•ç‚¹å‡»å¤„ç†é€»è¾‘
åœ¨ `src/components/layout/Sidebar.vue` çš„ `selectMenu` æ–¹æ³•ä¸­ï¼š

```typescript
// ç‰¹æ®Šå¤„ç†ï¼šå¦‚æœæ˜¯å®¢æˆ·ç›¸å…³èœå•ï¼Œç¡®ä¿å®¢æˆ·ç®¡ç†èœå•å±•å¼€
if (item.id === 'customer-list' || item.path === '/customers' || item.path?.startsWith('/customers')) {
  console.log('ğŸ”§ å®¢æˆ·èœå•ç‚¹å‡»ï¼Œç¡®ä¿å®¢æˆ·ç®¡ç†èœå•å±•å¼€')
  // ç¡®ä¿å®¢æˆ·ç®¡ç†èœå•å±•å¼€
  if (!openMenus.value.includes('customers')) {
    openMenus.value.push('customers')
  }
  
  router.push(item.path).then(() => {
    console.log('ğŸ”§ å®¢æˆ·èœå•è·¯ç”±è·³è½¬æˆåŠŸ')
  }).catch((error) => {
    console.error('ğŸ”§ å®¢æˆ·èœå•è·¯ç”±è·³è½¬å¤±è´¥:', error)
  })
  
  // è®¾ç½®æ´»è·ƒèœå•
  menuStore.setActiveMenu(item.id)
  return
}
```

### 2. ç¡®ä¿èœå•çŠ¶æ€æ­£ç¡®åˆå§‹åŒ–
åœ¨ç»„ä»¶æŒ‚è½½æ—¶ï¼Œæ ¹æ®å½“å‰è·¯å¾„è®¾ç½®èœå•çŠ¶æ€ï¼š

```typescript
// æ ¹æ®å½“å‰è·¯å¾„è®¾ç½®èœå•çŠ¶æ€
const currentPath = router.currentRoute.value.path
console.log('ğŸ”§ å½“å‰è·¯å¾„:', currentPath)

// å¦‚æœå½“å‰åœ¨å®¢æˆ·ç›¸å…³é¡µé¢ï¼Œç¡®ä¿å®¢æˆ·ç®¡ç†èœå•å±•å¼€
if (currentPath.startsWith('/customers')) {
  console.log('ğŸ”§ å½“å‰åœ¨å®¢æˆ·é¡µé¢ï¼Œå±•å¼€å®¢æˆ·ç®¡ç†èœå•')
  if (!openMenus.value.includes('customers')) {
    openMenus.value.push('customers')
  }
}
```

## ä¿®å¤æ•ˆæœ

### é¢„æœŸè¡Œä¸º
1. ç‚¹å‡»"å®¢æˆ·ç®¡ç†"èœå•é¡¹ â†’ å±•å¼€å­èœå•ï¼Œæ˜¾ç¤º"å®¢æˆ·åˆ—è¡¨"ç­‰é€‰é¡¹
2. ç‚¹å‡»"å®¢æˆ·åˆ—è¡¨"èœå•é¡¹ â†’ è·³è½¬åˆ° `/customers` è·¯å¾„ï¼Œæ˜¾ç¤ºå®¢æˆ·åˆ—è¡¨é¡µé¢
3. èœå•çŠ¶æ€æ­£ç¡®æ›´æ–°ï¼Œ"å®¢æˆ·åˆ—è¡¨"èœå•é¡¹æ˜¾ç¤ºä¸ºæ¿€æ´»çŠ¶æ€

### æŠ€æœ¯å®ç°
- ä½¿ç”¨ Vue Router çš„ `push` æ–¹æ³•è¿›è¡Œè·¯ç”±è·³è½¬
- é€šè¿‡ `openMenus` æ•°ç»„ç®¡ç†èœå•å±•å¼€çŠ¶æ€
- ä½¿ç”¨ `menuStore.setActiveMenu` è®¾ç½®æ´»è·ƒèœå•çŠ¶æ€
- æ·»åŠ é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•

## æµ‹è¯•æ–¹æ³•

1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š`npm run dev`
2. è®¿é—® `http://localhost:5173/dashboard`
3. ç‚¹å‡»ä¾§è¾¹æ ä¸­çš„"å®¢æˆ·ç®¡ç†"èœå•é¡¹
4. éªŒè¯å­èœå•æ˜¯å¦æ­£ç¡®å±•å¼€
5. ç‚¹å‡»"å®¢æˆ·åˆ—è¡¨"èœå•é¡¹
6. éªŒè¯æ˜¯å¦æ­£ç¡®è·³è½¬åˆ°å®¢æˆ·åˆ—è¡¨é¡µé¢

## ç›¸å…³æ–‡ä»¶
- `src/components/layout/Sidebar.vue` - ä¾§è¾¹æ ç»„ä»¶
- `src/mock/menu.ts` - èœå•é…ç½®
- `src/router/index.ts` - è·¯ç”±é…ç½®
- `src/views/customers/CustomerListView.vue` - å®¢æˆ·åˆ—è¡¨é¡µé¢
- `src/stores/menu.ts` - èœå•çŠ¶æ€ç®¡ç†

## æ³¨æ„äº‹é¡¹
- ç¡®ä¿æ‰€æœ‰å®¢æˆ·ç›¸å…³è·¯å¾„éƒ½ä»¥ `/customers` å¼€å¤´
- èœå•å±•å¼€çŠ¶æ€éœ€è¦ä¸è·¯ç”±çŠ¶æ€ä¿æŒåŒæ­¥
- æ·»åŠ é€‚å½“çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½• 