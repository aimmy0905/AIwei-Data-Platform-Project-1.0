# 艾维数据平台-管理端-服务费管理产品设计文档

## 1. 文档概述

### 1.1 文档信息
- **文档名称**: 艾维数据平台-管理端-服务费管理产品设计文档
- **版本**: v1.0
- **创建日期**: 2025-07-04
- **最后更新**: 2025-07-04

### 1.2 产品概述
服务费管理模块是艾维数据平台管理端的业务模块，专门用于记录客户项目的服务费收款情况。项目代运营需要收取服务费，无论是首次付款还是续费，都作为一条收款记录进行管理。该模块功能简单明确，由财务人员负责创建和管理收款记录。

### 1.3 设计原则
- **简单实用**: 功能设计简单明确，专注于收款记录管理
- **财务主导**: 由财务人员负责收款记录的创建和管理
- **数据准确**: 确保收款记录的准确性和完整性
- **操作便捷**: 提供便捷的录入和查询功能

## 2. 功能架构设计

### 2.1 功能模块结构
```
服务费管理模块
├── 收款记录列表
│   ├── 收款记录展示
│   ├── 筛选与搜索
│   └── 列表操作
├── 新建收款记录
│   ├── 选择客户
│   ├── 选择项目
│   ├── 填写收款信息
│   └── 保存记录
└── 收款记录操作
    ├── 查看记录
    ├── 编辑记录
    └── 删除记录
```

### 2.2 用户角色权限
- **财务总监**: 查看所有收款记录，创建/编辑/删除收款记录
- **财务经理**: 查看团队相关收款记录，创建/编辑/删除收款记录
- **财务人员**: 查看相关收款记录，创建/编辑/删除收款记录
- **其他角色**: 仅查看权限（根据数据权限范围）

## 3. 收款记录列表功能设计

### 3.1 页面布局设计

```
收款记录列表页面
├── 页面标题与操作区
│   ├── 页面标题："服务费管理"
│   └── 新建收款记录按钮
├── 筛选与搜索区域
│   ├── 快速搜索框
│   └── 筛选条件
└── 收款记录列表表格
    ├── 表格头部
    ├── 收款记录数据行
    └── 分页组件
```

### 3.2 收款记录列表字段设计

#### 3.2.1 表格列定义
| 字段名称 | 字段标识 | 数据类型 | 宽度 | 是否必显 | 排序 | 说明 |
|---------|---------|---------|------|---------|------|------|
| 客户名称 | customer_name | String | 150px | 是 | 是 | 收款关联的客户名称 |
| 项目名称 | project_name | String | 200px | 是 | 是 | 收款关联的项目名称 |
| 收款日期 | payment_date | Date | 120px | 是 | 是 | 实际收款日期 |
| 收款金额 | payment_amount | Number | 120px | 是 | 是 | 实际收款金额 |
| 收款类型 | payment_type | String | 100px | 是 | 是 | 首次付款/续费 |
| 备注 | remark | String | 200px | 否 | 否 | 收款相关说明 |
| 创建人 | creator | String | 100px | 是 | 是 | 记录创建人员 |
| 创建时间 | create_time | DateTime | 150px | 是 | 是 | 记录创建时间 |
| 操作 | actions | - | 150px | 是 | 否 | 操作按钮组 |

#### 3.2.2 字段验证规则
- **客户名称**: 必填，从客户列表中选择
- **项目名称**: 必填，根据客户动态加载项目列表
- **收款日期**: 必填，不能晚于当前日期
- **收款金额**: 必填，正数，保留两位小数
- **服务周期**:必填，1个月、3个月、6个月、1年，自定义数据周期（以月、年为单位）
- **收款类型**: 必填，首次付款/续费二选一
- **备注**: 可选，长度不超过200字符

### 3.3 筛选与搜索功能

#### 3.3.1 快速搜索
**搜索范围**: 客户名称、项目名称
**搜索特性**:
- 支持模糊搜索
- 实时搜索（输入后500ms触发）

#### 3.3.2 筛选条件
**筛选条件**:
- **客户名称**: 下拉选择
- **项目名称**: 下拉选择
- **收款类型**: 首次付款/续费
- **收款日期范围**: 日期范围选择器
- **创建人**: 下拉选择

### 3.4 列表操作功能

#### 3.4.1 单行操作
**操作按钮**:
- **编辑**: 编辑收款记录
- **删除**: 删除收款记录（需确认）

## 4. 新建服务费收款记录功能设计

### 4.1 新建流程设计

#### 4.1.1 创建权限控制
**权限设置**:
- **财务总监**: 可创建、编辑、删除收款记录
- **财务经理**: 可创建、编辑、删除收款记录
- **财务人员**: 可创建、编辑、删除收款记录

#### 4.1.2 服务费收款记录创建流程
**操作步骤**:
1. **选择客户**: 从客户列表中选择客户（必填，下拉选择）
2. **选择项目**: 根据选择的客户动态加载项目列表（必填，下拉选择）
3. **填写收款信息**:
   - 收款日期（必填，默认当前日期）
   - 收款金额（必填，正数，保留两位小数）
   - 服务周期（3个月、6个月、1年，自定义选择时间）
   - 收款类型（必填，首次付款/续费）
   - 备注（可选）
4. **保存记录**: 保存服务费记录

#### 4.1.3 验证规则
- **客户选择**: 必填，从客户列表中选择
- **项目选择**: 必填，从客户关联项目中选择
- **收款日期**: 必填，不能晚于当前日期
- **收款金额**: 必填，正数，最多两位小数，最小金额1元
- **收款类型**: 必填，首次付款/续费二选一
- **备注**: 可选，长度不超过200字符

## 5. 服务费收款记录操作功能设计

### 5.1 服务费收款记录编辑功能

#### 5.1.1 编辑权限控制
**权限设置**:
- **财务总监**: 可编辑所有收款记录
- **财务经理**: 可编辑团队相关收款记录
- **财务人员**: 可编辑自己创建的收款记录

#### 5.1.2 可编辑字段
**编辑字段**:
- 收款日期
- 收款金额
- 收款类型
- 备注信息

#### 5.1.3 编辑验证规则
- 与新建记录的验证规则相同

### 5.2 收款记录删除功能

#### 5.2.1 删除权限控制
**权限要求**:
- **财务总监**: 可删除所有收款记录
- **财务经理**: 可删除团队相关收款记录
- **财务人员**: 可删除自己创建的收款记录
- 删除操作需要二次确认

#### 5.2.2 删除操作记录
**记录内容**:
- 删除时间
- 删除人员
- 删除原因
- 被删除记录的完整信息备份

## 6. 总结

本产品设计文档详细描述了艾维数据平台管理端服务费管理模块的功能设计，专注于服务费收款记录的管理。

### 6.1 核心功能模块
- **收款记录列表**: 完整的收款记录展示和查询功能
- **新建收款记录**: 简单的收款记录创建流程
- **收款记录操作**: 收款记录的编辑和删除功能

### 6.2 设计特点
- **功能简单**: 专注于收款记录的基础管理功能
- **操作便捷**: 简化的操作流程，提高工作效率
- **权限控制**: 基于角色的权限管理，确保数据安全
- **数据准确**: 完善的数据验证规则，确保记录准确性

### 6.3 技术要求
- 支持数据的快速查询和展示
- 简单的数据验证和格式控制
- 基础的权限控制和操作记录

本设计文档为服务费管理模块的开发提供了简单明确的功能规范，确保产品能够满足用户记录服务费收款情况的基本需求。
