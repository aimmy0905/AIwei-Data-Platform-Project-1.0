# 艾维数据平台-管理端活动管理功能详细产品设计文档

## 1. 功能概述

### 1.1 功能定位
活动管理模块是艾维数据平台管理端的核心营销管理功能，用于管理客户项目的营销活动全生命周期，包括活动创建、执行跟踪、数据分析和效果评估，为营销决策提供数据支持。

### 1.2 设计目标
- 提供完整的活动管理流程，从创建到结束的全生命周期管理
- 支持多维度活动数据分析，包括销售、成本、用户、渠道等维度
- 实现活动效果的实时监控和数据可视化展示
- 与项目管理和数据看板模块保持数据一致性

### 1.3 模块关联
- **项目管理模块**：活动隶属于具体项目，与项目数据联动
- **数据看板模块**：活动数据在数据看板中展示，保持数据结构一致
- **客户管理模块**：活动关联客户信息，支持客户维度分析

## 2. 功能架构设计

### 2.1 功能模块结构
```
活动管理模块
├── 活动列表管理
│   ├── 最新活动列表
│   ├── 全部活动列表
│   ├── 活动筛选功能
│   └── 活动搜索功能
├── 活动详情管理
│   ├── 活动基础信息
│   ├── 活动数据概览
│   ├── 单日数据表
│   ├── 产品数据表
│   ├── 页面数据表
│   └── 渠道数据分析
├── 活动操作管理
│   ├── 新建活动
│   ├── 编辑活动
│   ├── 删除活动
│   ├── 活动状态管理
│   └── 活动数据导出
└── 活动数据分析
    ├── 活动效果分析
    ├── 渠道对比分析
    ├── 阶段分析
    └── 历史对比分析
```

### 2.2 用户角色权限
- **项目总监**：查看所有活动信息，编辑权限，审批权限，活动数据分析
- **项目经理**：查看团队项目活动，管理团队项目活动，活动数据录入
- **优化师**：查看负责项目活动，录入活动数据，管理渠道数据
- **销售总监**：查看所有活动信息，活动效果分析，客户活动报告
- **销售经理**：查看团队客户活动，活动效果跟踪
- **销售人员**：查看负责客户活动，活动基础信息录入

## 3. 活动列表管理功能设计

### 3.1 最新活动列表展示

#### 3.1.1 列表字段设计
**核心字段**：
- **活动名称**：活动的标识名称，必填，长度2-100字符
- **活动类型**：促销活动/品牌活动/节日活动/其他，必填
- **活动阶段**：预热/正式，必填，影响数据统计维度
- **目标市场**：活动针对的目标市场区域，必填
- **活动内容**：活动的主要内容描述，必填，长度10-1000字符
- **参与渠道**：涉及的营销渠道，多选，必填

**数据字段**：
- **总销售额**：活动期间的总销售额，自动计算
- **用户数**：活动期间的参与用户数量，自动统计
- **广告花费**：活动期间的广告投入费用，自动汇总
- **ROI**：投资回报率，自动计算（销售额/广告花费）
- **转化率**：用户转化率，自动计算
- **客单价**：活动期间的平均客单价，自动计算
- **订单量**：活动期间的订单数量，自动统计
- **退货率**：活动期间的退货率，自动计算
- **退货金额**：活动期间的退货金额，自动统计

**管理字段**：
- **关联项目**：活动关联的项目名称，必填
- **负责人**：活动负责人，必填
- **活动时间**：活动开始和结束时间，必填
- **创建时间**：活动创建时间，系统自动记录
- **更新时间**：最后更新时间，系统自动记录
- **状态**：预热中/进行中/已结束/已取消

#### 3.1.2 列表交互功能
**排序功能**：
- 支持按活动时间、创建时间、销售额、ROI等字段排序
- 默认按活动时间倒序排列
- 支持升序/降序切换

**操作功能**：
- **查看详情**：点击活动名称或详情按钮进入活动详情页
- **编辑活动**：编辑活动基础信息和配置
- **复制活动**：基于现有活动创建新活动
- **删除活动**：删除活动（需权限验证）
- **导出数据**：导出活动数据报告

### 3.2 活动筛选功能

#### 3.2.1 基础筛选条件
**活动属性筛选**：
- **活动类型**：促销活动/品牌活动/节日活动/其他，多选
- **活动阶段**：预热/正式，多选
- **活动状态**：预热中/进行中/已结束/已取消，多选
- **目标市场**：多选下拉框，支持搜索
- **参与渠道**：多选下拉框，包含所有可用渠道

**项目关联筛选**：
- **关联项目**：多选下拉框，支持项目搜索
- **项目类型**：新客户/二次开发/失效复活
- **负责人**：多选下拉框，支持人员搜索
- **客户名称**：支持客户名称模糊搜索

#### 3.2.2 时间筛选功能
**快捷时间筛选**：
- **今日活动**：当天进行的活动
- **本周活动**：本周内的活动
- **本月活动**：本月内的活动
- **本季度活动**：本季度内的活动

**高级时间筛选**：
- **年度筛选**：按年度筛选活动
- **年月筛选**：按年月筛选活动
- **季度筛选**：按季度筛选活动
- **年季筛选**：按年季筛选活动
- **自定义时间筛选**：自定义时间范围选择器

#### 3.2.3 数据筛选功能
**效果筛选**：
- **ROI范围**：设置ROI最小值和最大值
- **销售额范围**：设置销售额区间
- **转化率范围**：设置转化率区间
- **订单量范围**：设置订单量区间

**筛选组合**：
- 支持多条件组合筛选
- 筛选条件保存和快速应用
- 筛选结果统计显示
- 清空筛选条件功能

### 3.3 全部活动入口

#### 3.3.1 全部活动列表
**功能特性**：
- **完整列表**：显示所有活动的完整列表，支持分页
- **高级筛选**：提供更丰富的筛选条件组合
- **批量操作**：支持批量编辑、删除、导出等操作
- **数据导出**：支持导出活动数据到Excel/CSV格式

**列表增强功能**：
- **列表自定义**：用户可自定义显示列和排序
- **数据刷新**：支持手动和自动数据刷新
- **列表缓存**：缓存用户的筛选和排序设置
- **快速搜索**：支持活动名称、内容的全文搜索

## 4. 活动详情管理功能设计

### 4.1 活动基础信息展示

#### 4.1.1 活动概览信息
**基础信息卡片**：
- **活动名称**：活动的完整名称
- **活动类型**：活动分类标签
- **活动阶段**：当前阶段状态（预热/正式）
- **活动时间**：开始时间 - 结束时间
- **目标市场**：活动针对的市场区域
- **活动内容**：活动的详细内容描述
- **参与渠道**：活动涉及的所有渠道标签
- **关联项目**：关联项目名称，可点击跳转
- **负责人**：活动负责人信息
- **创建时间**：活动创建时间

#### 4.1.2 活动状态管理
**状态流转规则**：
- **预热阶段** → **正式阶段**：活动从预热进入正式执行
- **正式阶段** → **已结束**：活动正常结束
- **预热阶段/正式阶段** → **已取消**：活动取消
- 状态变更需要填写变更原因和影响评估

**状态变更权限**：
- **活动负责人**：可变更负责活动的状态
- **项目经理**：可变更团队项目活动状态
- **项目总监**：可变更所有活动状态

### 4.2 活动数据概览

#### 4.2.1 核心数据指标
**关键指标卡片**：
- **销售额**：活动期间的总销售额，实时更新
- **成本**：活动的总成本支出（广告+其他成本）
- **ROI**：投资回报率计算（销售额/总成本）
- **转化率**：活动的转化效果（订单数/访问用户数）
- **订单数**：活动期间产生的订单数量
- **客单价**：活动期间的平均客单价（销售额/订单数）

**数据对比功能**：
- **环比对比**：与上期活动数据对比
- **同比对比**：与去年同期活动数据对比
- **目标对比**：与预设目标的完成情况对比
- **行业对比**：与行业平均水平对比（如有数据）

#### 4.2.2 数据更新机制
**实时数据更新**：
- **销售数据**：从电商平台实时同步销售数据，每小时更新
- **广告数据**：从各广告平台API获取花费和收入数据，每4小时同步
- **用户数据**：从用户行为分析系统获取用户数据，每小时更新
- **产品数据**：从产品管理系统获取产品相关数据，每日更新

**数据校验机制**：
- **数据一致性校验**：确保各平台数据的一致性
- **异常数据检测**：自动检测异常数据并标记
- **数据修正功能**：支持对异常数据进行手动修正
- **数据审计日志**：记录所有数据变更操作

### 4.3 单日数据表

#### 4.3.1 单日数据表结构
**表头字段设计**：
- **日期**：活动期间的每日数据，格式：YYYY-MM-DD
- **整站收入**：当日整站总收入
- **广告花费**：当日广告总投入
- **整站ROI**：当日整站投资回报率
- **订单数**：当日订单数量
- **客单价**：当日平均订单价值
- **广告总收入**：当日广告带来的收入
- **广告ROI**：当日广告投资回报率
- **广告收入占比**：广告收入占总收入的百分比

**分平台数据**：
- **Google数据**：Google花费、Google收入、Google ROI
- **Facebook数据**：Facebook花费、Facebook收入、Facebook ROI
- **Bing数据**：Bing花费、Bing收入、Bing ROI
- **Criteo数据**：Criteo花费、Criteo收入、Criteo ROI

#### 4.3.2 数据表交互功能
**数据筛选**：
- **日期范围筛选**：选择特定日期范围查看数据
- **平台筛选**：选择特定平台查看数据
- **指标筛选**：选择特定指标进行对比分析

**数据操作**：
- **数据排序**：支持按各字段排序
- **数据导出**：导出单日数据表到Excel
- **数据图表**：将表格数据转换为图表展示
- **数据钻取**：点击数据可查看更详细的分解数据

### 4.4 产品数据表

#### 4.4.1 产品数据表结构
**表头字段设计**：
- **产品标题**：产品的完整标题
- **产品品类**：产品所属品类
- **用户数**：产品页面访问用户数
- **销量**：产品在活动期间的销量
- **销售额**：产品在活动期间的销售额
- **转化率**：产品页面的转化率
- **客单价**：产品的平均客单价
- **退货数**：产品的退货数量
- **退款金额**：产品的退款金额
- **加购数**：产品的加购数量
- **发起结账数**：产品的发起结账数量
- **加购率**：产品的加购转化率
- **发起结账率**：产品的结账转化率
- **环比数据**：所有指标的环比变化数据

#### 4.4.2 产品数据分析
**产品表现分析**：
- **热销产品排行**：按销量、销售额排序
- **高转化产品**：按转化率排序
- **高价值产品**：按客单价排序
- **问题产品识别**：高退货率、低转化率产品

**产品优化建议**：
- **库存预警**：根据销量预测库存需求
- **价格优化**：基于转化率和客单价的价格建议
- **推广建议**：基于产品表现的推广策略建议
- **产品组合**：推荐产品搭配销售策略

### 4.5 页面数据表

#### 4.5.1 页面数据表结构
**表头字段设计**：
- **页面链接**：页面的完整URL
- **访问数**：页面的总访问次数
- **用户数**：页面的访问用户数
- **新客户数**：页面的新客户访问数
- **转化率**：页面的转化率
- **加购数**：页面的加购数量
- **加购率**：页面的加购转化率
- **发起结账数**：页面的发起结账数量
- **发起结账率**：页面的结账转化率
- **跳出率**：页面的跳出率
- **停留时长**：页面的平均停留时长
- **每次访问的页面浏览量**：平均页面浏览量
- **环比数据**：所有指标的环比变化数据

#### 4.5.2 页面性能分析
**页面效果评估**：
- **高效页面识别**：高转化率、低跳出率页面
- **问题页面识别**：高跳出率、低转化率页面
- **页面流量分析**：页面访问来源和流量分布
- **用户行为分析**：用户在页面上的行为路径

**页面优化建议**：
- **内容优化**：基于用户行为的内容优化建议
- **布局优化**：基于转化率的页面布局建议
- **加载优化**：基于停留时长的页面加载优化
- **导航优化**：基于用户路径的导航优化建议

## 5. 活动操作管理功能设计

### 5.1 新建活动功能

#### 5.1.1 活动创建流程
**创建步骤**：
1. **基础信息设置**：
   - 填写活动名称、类型、阶段
   - 设置活动时间（开始时间、结束时间）
   - 选择关联项目和负责人

2. **目标市场配置**：
   - 设置目标市场区域
   - 填写活动内容描述
   - 选择参与渠道

3. **预算和目标设置**：
   - 设置活动预算（广告预算、其他成本）
   - 设置预期目标（销售额、ROI、转化率等）
   - 设置关键里程碑

4. **执行计划制定**：
   - 制定活动执行计划和时间节点
   - 分配执行任务和责任人
   - 设置检查点和评估标准

5. **数据配置**：
   - 配置数据收集维度
   - 设置数据分析指标
   - 配置数据同步频率

6. **审核和保存**：
   - 信息确认和审核
   - 保存活动信息
   - 生成活动编号

#### 5.1.2 活动验证规则
**必填字段验证**：
- **活动名称**：必填，长度2-100字符，不能重复
- **活动类型**：必填，从预设选项中选择（促销活动/品牌活动/节日活动/其他）
- **活动阶段**：必填，预热/正式二选一
- **活动时间**：必填，结束时间不能早于开始时间
- **目标市场**：必填，长度2-100字符
- **活动内容**：必填，长度10-1000字符
- **参与渠道**：必填，至少选择一个渠道
- **关联项目**：必填，从项目列表中选择
- **负责人**：必填，从人员列表中选择

**业务规则验证**：
- **时间冲突检查**：检查同项目是否有时间重叠的活动
- **资源冲突检查**：检查负责人是否有时间冲突
- **预算合理性检查**：预算不能超过项目可用预算
- **渠道可用性检查**：检查选择的渠道是否可用

#### 5.1.3 活动模板功能
**模板类型**：
- **促销活动模板**：包含常用的促销活动配置
- **品牌活动模板**：包含品牌推广活动的标准配置
- **节日活动模板**：包含节日营销活动的配置
- **自定义模板**：用户可保存自定义的活动模板

**模板功能**：
- **模板选择**：创建活动时可选择模板快速创建
- **模板编辑**：可编辑现有模板内容
- **模板保存**：可将当前活动保存为模板
- **模板分享**：可在团队内分享活动模板

### 5.2 活动编辑功能

#### 5.2.1 编辑权限控制
**权限分级**：
- **活动负责人**：可编辑负责的活动所有信息
- **项目经理**：可编辑团队项目的活动信息
- **项目总监**：可编辑所有活动信息
- **只读用户**：只能查看活动信息，不能编辑

**编辑限制规则**：
- **已结束的活动**：只能编辑备注信息和总结
- **正式阶段的活动**：不能修改基础配置，只能调整执行细节
- **数据相关字段**：由系统自动更新，不支持手动编辑
- **关键字段锁定**：活动开始后，关键字段（如渠道、项目）不可修改

#### 5.2.2 编辑操作记录
**变更记录**：
- **操作人员**：记录编辑操作的用户
- **操作时间**：记录编辑操作的时间
- **变更内容**：记录具体的变更字段和内容
- **变更原因**：要求填写变更原因

**版本管理**：
- **版本号**：每次编辑生成新版本号
- **版本对比**：可对比不同版本的差异
- **版本回滚**：可回滚到历史版本（需权限）
- **版本备注**：每个版本可添加备注说明

### 5.3 活动删除功能

#### 5.3.1 删除权限和限制
**删除权限**：
- **项目总监**：可删除所有活动
- **活动负责人**：可删除负责的活动
- **项目经理**：可删除团队项目的活动

**删除限制**：
- **已开始的活动**：不能删除，只能取消
- **有关联数据的活动**：删除前需要处理关联数据
- **正在进行广告投放的活动**：需要先停止投放再删除

#### 5.3.2 删除影响检查
**关联数据检查**：
- **检查数据记录**：检查是否有关联的数据记录
- **检查广告投放**：检查是否有正在进行的广告投放
- **检查执行计划**：检查是否有未完成的执行计划
- **检查报告引用**：检查是否被报告或分析引用

**删除确认流程**：
- **二次确认**：删除操作需要二次确认
- **影响说明**：显示删除可能产生的影响
- **备份提醒**：提醒用户备份重要数据
- **删除记录**：记录删除操作和原因

### 5.4 活动状态管理

#### 5.4.1 状态流转管理
**状态定义**：
- **预热中**：活动处于预热阶段，进行前期准备
- **进行中**：活动正式开始执行
- **已结束**：活动正常结束
- **已取消**：活动被取消

**状态流转规则**：
- **预热中** → **进行中**：活动从预热进入正式执行
- **进行中** → **已结束**：活动正常结束
- **预热中/进行中** → **已取消**：活动被取消
- **已结束/已取消**：终态，不可再变更

#### 5.4.2 状态变更操作
**变更权限**：
- **活动负责人**：可变更负责活动的状态
- **项目经理**：可变更团队项目活动状态
- **项目总监**：可变更所有活动状态

**变更要求**：
- **变更原因**：必须填写状态变更原因
- **影响评估**：评估状态变更对项目的影响
- **通知相关人员**：状态变更后自动通知相关人员
- **数据处理**：状态变更时处理相关数据

### 5.5 活动数据导出

#### 5.5.1 导出功能设计
**导出类型**：
- **活动报告**：生成完整的活动数据报告
- **数据表格**：导出各类数据表格（单日数据、产品数据、页面数据）
- **图表导出**：导出数据可视化图表
- **自定义导出**：支持自定义选择导出字段和格式

**导出格式**：
- **Excel格式**：支持多工作表的Excel文件
- **CSV格式**：支持CSV格式的数据文件
- **PDF格式**：支持PDF格式的报告文件
- **图片格式**：支持PNG/JPG格式的图表文件

#### 5.5.2 导出配置选项
**数据范围选择**：
- **时间范围**：选择导出数据的时间范围
- **数据维度**：选择导出的数据维度
- **字段选择**：自定义选择导出的字段
- **筛选条件**：应用筛选条件后导出

**导出设置**：
- **文件命名**：自定义导出文件名称
- **数据格式**：选择数据的格式和精度
- **图表样式**：选择图表的样式和配色
- **报告模板**：选择报告的模板样式

## 7. 数据结构设计

### 7.1 活动基础数据表
```
活动表 (activities)
- id: 活动唯一标识
- name: 活动名称
- type: 活动类型 (promotion/brand/holiday/other)
- stage: 活动阶段 (warm_up/formal)
- status: 活动状态 (warm_up/running/ended/cancelled)
- target_market: 目标市场
- content: 活动内容
- channels: 参与渠道 (JSON格式)
- project_id: 关联项目ID
- owner_id: 负责人ID
- start_time: 开始时间
- end_time: 结束时间
- budget: 活动预算
- target_sales: 目标销售额
- target_roi: 目标ROI
- target_conversion_rate: 目标转化率
- created_by: 创建人ID
- created_at: 创建时间
- updated_at: 更新时间
```

### 7.2 活动数据统计表
```
活动数据表 (activity_data)
- id: 数据记录唯一标识
- activity_id: 活动ID
- date: 数据日期
- total_sales: 总销售额
- total_cost: 总成本
- ad_spend: 广告花费
- roi: 投资回报率
- conversion_rate: 转化率
- order_count: 订单数量
- user_count: 用户数量
- avg_order_value: 平均客单价
- return_rate: 退货率
- return_amount: 退货金额
- google_spend: Google花费
- google_revenue: Google收入
- google_roi: Google ROI
- facebook_spend: Facebook花费
- facebook_revenue: Facebook收入
- facebook_roi: Facebook ROI
- bing_spend: Bing花费
- bing_revenue: Bing收入
- bing_roi: Bing ROI
- criteo_spend: Criteo花费
- criteo_revenue: Criteo收入
- criteo_roi: Criteo ROI
- updated_at: 更新时间
```

### 7.3 活动产品数据表
```
活动产品数据表 (activity_product_data)
- id: 记录唯一标识
- activity_id: 活动ID
- product_id: 产品ID
- product_title: 产品标题
- product_category: 产品品类
- user_count: 用户数
- sales_volume: 销量
- sales_amount: 销售额
- conversion_rate: 转化率
- avg_order_value: 客单价
- return_count: 退货数
- return_amount: 退款金额
- add_to_cart_count: 加购数
- checkout_count: 发起结账数
- add_to_cart_rate: 加购率
- checkout_rate: 发起结账率
- date: 数据日期
- updated_at: 更新时间
```

### 7.4 活动页面数据表
```
活动页面数据表 (activity_page_data)
- id: 记录唯一标识
- activity_id: 活动ID
- page_url: 页面链接
- visit_count: 访问数
- user_count: 用户数
- new_user_count: 新客户数
- conversion_rate: 转化率
- add_to_cart_count: 加购数
- add_to_cart_rate: 加购率
- checkout_count: 发起结账数
- checkout_rate: 发起结账率
- bounce_rate: 跳出率
- avg_stay_time: 停留时长
- page_views_per_visit: 每次访问页面浏览量
- date: 数据日期
- updated_at: 更新时间
```

## 8. 业务规则设计

### 8.1 活动创建规则
- **活动名称唯一性**：同一项目下活动名称不能重复
- **时间合理性**：活动结束时间必须晚于开始时间
- **资源可用性**：负责人在活动时间段内不能有冲突
- **预算合理性**：活动预算不能超过项目可用预算
- **渠道有效性**：选择的渠道必须是项目可用的渠道

### 8.2 活动状态流转规则
- **状态流转顺序**：必须按照预定义的状态流转顺序进行
- **状态变更权限**：只有有权限的用户才能变更活动状态
- **状态变更记录**：所有状态变更必须记录原因和操作人
- **数据处理规则**：状态变更时自动处理相关数据

### 8.3 数据更新规则
- **数据同步频率**：不同类型数据有不同的同步频率
- **数据一致性**：确保各平台数据的一致性
- **数据校验**：对异常数据进行自动检测和标记
- **数据修正**：支持对异常数据进行手动修正

## 9. 用户体验设计

### 9.1 界面设计原则
- **一致性**：与整个平台的设计风格保持一致
- **易用性**：操作简单直观，减少用户学习成本
- **效率性**：提供快捷操作，提高工作效率
- **可访问性**：支持不同设备和浏览器访问

### 9.2 交互设计
- **响应式设计**：支持桌面端、平板端、移动端访问
- **实时反馈**：操作后提供及时的反馈信息
- **错误处理**：友好的错误提示和处理建议
- **加载优化**：优化页面加载速度和用户等待体验

### 9.3 数据可视化
- **图表展示**：使用合适的图表类型展示数据
- **交互图表**：支持图表的交互操作和数据钻取
- **自定义视图**：支持用户自定义数据展示方式
- **导出功能**：支持图表和数据的导出功能


