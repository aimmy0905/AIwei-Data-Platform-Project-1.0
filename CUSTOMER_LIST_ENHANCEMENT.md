# 客户列表功能增强

## 概述

本次更新为客户列表页面添加了两个新的数据列：
- **累计服务费**：显示每个客户的累计服务费用
- **服务项目数量**：显示每个客户的服务项目总数

## 功能特点

### 1. 表格视图增强
- 新增"累计服务费"列，显示格式：¥120,000
- 新增"服务项目数量"列，显示格式：15
- 支持按这两个字段进行排序（升序/降序）
- 累计服务费使用绿色高亮显示，表示收入数据
- 服务项目数量使用蓝色高亮显示，表示项目统计

### 2. 网格视图增强
- 在客户卡片的指标区域新增服务费和项目数显示
- 保持与表格视图一致的颜色主题
- 响应式布局，适配不同屏幕尺寸

### 3. 数据导出功能
- 导出的Excel/CSV文件包含新增的两个字段
- 累计服务费格式化为货币格式
- 服务项目数量保持数字格式

### 4. 排序功能
- 点击列标题可以按累计服务费排序
- 点击列标题可以按服务项目数量排序
- 支持升序和降序切换

## 数据示例

以下是客户数据的示例：

| 客户名称 | 累计服务费 | 服务项目数量 |
|---------|-----------|-------------|
| 时尚潮流服饰有限公司 | ¥120,000 | 15 |
| 科技数码创新公司 | ¥80,000 | 10 |
| 美容护肤品牌 | ¥150,000 | 20 |
| 运动健身器材 | ¥70,000 | 10 |
| 家居装饰精品 | ¥100,000 | 12 |

## 技术实现

### 1. 数据模型更新
```typescript
export interface ExtendedCustomer extends Customer {
  // ... 其他字段
  totalServiceFee: number // 累计服务费
  serviceProjectCount: number // 服务项目数量
}
```

### 2. 排序逻辑
```typescript
case 'totalServiceFee':
  valueA = a.totalServiceFee
  valueB = b.totalServiceFee
  break
case 'serviceProjectCount':
  valueA = a.serviceProjectCount
  valueB = b.serviceProjectCount
  break
```

### 3. 样式定义
```css
.service-fee-text {
  font-weight: var(--font-weight-medium);
  color: var(--color-success);
}

.project-count-text {
  font-weight: var(--font-weight-medium);
  color: var(--color-info);
}
```

## 使用方法

### 查看客户列表
1. 访问客户管理页面 (`/customers`)
2. 在表格视图中可以看到新增的两列
3. 点击列标题可以进行排序

### 切换到网格视图
1. 点击右上角的网格视图按钮
2. 在客户卡片中查看服务费和项目数指标

### 导出数据
1. 点击"导出数据"按钮
2. 选择导出格式（Excel/CSV）
3. 导出的文件将包含所有字段，包括新增的两个字段

## 注意事项

1. **数据格式**：累计服务费以人民币(¥)显示，服务项目数量为整数
2. **排序功能**：支持按数值大小进行排序
3. **响应式设计**：在移动设备上表格会启用水平滚动
4. **颜色主题**：服务费使用绿色，项目数使用蓝色，与系统主题保持一致

## 未来扩展

1. 可以考虑添加服务费的时间趋势图
2. 可以添加项目类型的分类统计
3. 可以添加平均单项目服务费的计算
4. 可以添加客户价值评分功能 