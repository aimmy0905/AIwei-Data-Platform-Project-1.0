# 艾维数据平台-管理端-周报月报管理产品设计文档

## 1. 文档概述

### 1.1 文档信息
- **文档名称**: 艾维数据平台-管理端-周报月报管理产品设计文档
- **版本**: v1.0
- **创建日期**: 2025-07-04
- **最后更新**: 2025-07-04

### 1.2 产品概述
周报/月报管理模块是艾维数据平台管理端的重要功能模块，用于管理项目的周报和月报生成、编辑、发布全流程。本模块集成了自动数据看板截图功能、小结与建议管理、会议记录管理、待办事项管理等综合报告管理功能，为项目团队提供完整的报告管理解决方案。

### 1.3 业务价值
- **自动化报告**: 通过自动截图和数据整合，提高报告生成效率
- **数据驱动**: 基于项目数据看板的真实数据生成报告
- **协作管理**: 支持团队协作的小结建议、会议记录、待办事项管理
- **客户沟通**: 为客户提供专业的项目进展报告

### 1.4 设计原则
- **自动化优先**: 最大化自动化报告生成流程
- **数据一致性**: 与项目数据看板保持数据一致
- **协作效率**: 支持团队协作和多角色参与
- **客户导向**: 以客户需求为导向的报告内容设计

## 2. 功能架构设计

### 2.1 功能模块结构
```
周报月报管理模块
├── 周报管理
│   ├── 周报列表
│   ├── 周报详情
│   ├── 周报生成
│   └── 周报发布
├── 月报管理
│   ├── 月报列表
│   ├── 月报详情
│   ├── 月报生成
│   └── 月报发布
├── 自动截图功能
│   ├── 定时截图任务
│   ├── 截图存储管理
│   ├── 截图质量检查
│   └── 截图历史记录
├── 小结与建议管理
│   ├── 小结内容编辑
│   ├── 建议内容管理
│   ├── 发布校正功能
│   └── 版本历史管理
├── 会议记录管理
│   ├── 会议记录创建
│   ├── 会议记录编辑
│   ├── 会议记录发布
│   └── 会议记录归档
├── 待办事项管理
│   ├── 待办事项列表
│   ├── 待办事项创建
│   ├── 待办事项跟踪
│   └── 待办事项完成
└── 报告导出功能
    ├── PDF导出
    ├── Word导出
    ├── 邮件发送
    └── 批量导出
```

### 2.2 用户角色权限
- **项目总监**: 查看所有项目报告，审核发布权限，系统配置权限
- **项目经理**: 查看团队项目报告，编辑团队项目报告，审核权限
- **运营人员**: 查看负责项目报告，编辑负责项目报告，录入数据
- **销售总监**: 查看所有项目报告，客户报告发送权限
- **销售经理**: 查看团队客户报告，客户沟通权限
- **销售人员**: 查看负责客户报告，客户反馈录入

## 3. 自动截图功能设计

### 3.1 自动截图机制

#### 3.1.1 定时截图任务
**触发时机**:
- **每周最后一天23:59:59**: 自动截图项目数据看板页面
- **周日23:59:59**: 作为标准的周末截图时间
- **异常处理**: 如遇系统维护，自动延迟到下一个可用时间

**截图范围**:
- **项目数据看板完整页面**: 包含所有数据模块的完整截图
- **关键数据区域**: 项目概览卡片、数据指标区域、趋势分析图表
- **目标达成情况**: 月度、季度、年度目标进度
- **活动数据展示**: 最新活动数据和趋势图表

#### 3.1.2 截图技术规范
**截图参数**:
- **分辨率**: 1920x1080像素，确保高清显示
- **格式**: PNG格式，保证图片质量
- **压缩**: 适度压缩，平衡文件大小和清晰度
- **水印**: 自动添加时间戳和项目信息水印

**截图内容优化**:
- **数据完整性**: 确保所有数据模块完全加载后再截图
- **图表清晰度**: 确保趋势图表、进度条等可视化元素清晰可见
- **响应式适配**: 自动适配不同屏幕尺寸的最佳显示效果
- **异常处理**: 数据加载失败时的备用截图方案

### 3.2 截图存储和管理

#### 3.2.1 存储结构设计
**文件命名规则**:
```
截图文件命名格式：
{客户名称}_{项目名称}_{YYYY-MM-DD}_{周次}_数据看板截图.png

示例：
Apple_iPhone推广项目_2025-07-06_W27_数据看板截图.png
```

**存储目录结构**:
```
截图存储目录
├── 2025年
│   ├── 01月
│   │   ├── 第1周
│   │   ├── 第2周
│   │   ├── 第3周
│   │   └── 第4周
│   ├── 02月
│   └── ...
└── 历史归档
    ├── 2024年
    └── 2023年
```

#### 3.2.2 截图质量检查
**自动质量检查**:
- **文件完整性**: 检查截图文件是否完整生成
- **图片清晰度**: 检查图片是否清晰可读
- **数据完整性**: 检查关键数据区域是否正常显示
- **异常检测**: 检测空白页面、加载错误等异常情况

**质量检查流程**:
1. **截图生成**: 系统自动生成截图
2. **质量验证**: 自动检查截图质量
3. **异常处理**: 质量不合格时自动重试
4. **人工确认**: 连续失败时发送通知给管理员
5. **备用方案**: 提供手动截图功能

### 3.3 截图历史记录

#### 3.3.1 截图记录管理
**记录字段**:
- **截图ID**: 唯一标识
- **项目ID**: 关联项目
- **客户ID**: 关联客户
- **截图时间**: 自动截图时间
- **文件路径**: 截图文件存储路径
- **文件大小**: 截图文件大小
- **质量状态**: 截图质量检查结果
- **使用状态**: 是否已用于报告生成

#### 3.3.2 截图访问权限
**权限控制**:
- **项目相关人员**: 可查看负责项目的截图
- **客户相关人员**: 可查看负责客户的截图
- **管理层**: 可查看所有截图
- **系统管理员**: 具有截图管理的完整权限

## 4. 周报管理功能设计

### 4.1 周报列表管理

#### 4.1.1 周报列表字段
**列表字段**:
- **报告周期**: 周报对应的时间周期（如：2025年第27周）
- **项目名称**: 关联的项目名称
- **客户名称**: 关联的客户名称
- **报告状态**: 草稿/待审核/已审核/已发送/已归档
- **自动截图**: 是否包含自动截图
- **小结建议**: 小结建议完成状态
- **会议记录**: 关联会议记录数量
- **待办事项**: 待办事项数量/完成数量
- **创建人**: 报告创建人
- **创建时间**: 报告创建时间
- **最后更新时间**: 报告最后修改时间
- **操作**: 查看/编辑/审核/发送/导出

#### 4.1.2 周报筛选功能
**筛选条件**:
- **报告周期**: 按年、季度、月份、周次筛选
- **项目名称**: 多选项目筛选
- **客户名称**: 多选客户筛选
- **报告状态**: 多选状态筛选
- **创建人**: 多选创建人筛选
- **创建时间范围**: 日期范围筛选
- **是否包含截图**: 是/否筛选

### 4.2 周报生成功能

#### 4.2.1 自动周报生成
**生成触发**:
- **定时生成**: 每周一上午9:00自动生成上周周报框架
- **手动生成**: 用户手动触发周报生成
- **批量生成**: 批量生成多个项目的周报

**自动生成内容**:
- **基础信息**: 自动填充项目信息、客户信息、报告周期
- **数据看板截图**: 自动插入上周末的数据看板截图
- **数据摘要**: 基于截图和数据自动生成关键指标摘要
- **模板框架**: 提供标准的周报内容框架

#### 4.2.2 周报内容结构
**报告内容模块**:
```
周报内容结构
├── 报告头部
│   ├── 项目基本信息
│   ├── 报告周期
│   └── 数据看板截图
├── 本周数据表现
│   ├── 关键指标摘要
│   ├── 数据趋势分析
│   └── 目标完成情况
├── 本周工作小结
│   ├── 主要工作内容
│   ├── 优化措施执行
│   └── 问题解决情况
├── 会议记录摘要
│   ├── 重要会议记录
│   ├── 决策事项
│   └── 行动计划
├── 待办事项跟踪
│   ├── 本周完成事项
│   ├── 未完成事项
│   └── 新增待办事项
├── 下周工作计划
│   ├── 重点工作安排
│   ├── 优化计划
│   └── 预期目标
└── 建议与改进
    ├── 优化建议
    ├── 风险提示
    └── 改进措施
```

### 4.3 周报编辑功能

#### 4.3.1 富文本编辑器
**编辑功能**:
- **文本编辑**: 支持富文本编辑，包括字体、颜色、大小设置
- **图片插入**: 支持插入图片、图表、截图
- **表格编辑**: 支持创建和编辑数据表格
- **链接插入**: 支持插入外部链接和内部页面链接

**模板功能**:
- **标准模板**: 提供标准的周报模板
- **自定义模板**: 支持创建和保存自定义模板
- **模板应用**: 一键应用模板到新周报
- **模板管理**: 模板的创建、编辑、删除、分享

#### 4.3.2 协作编辑功能
**多人协作**:
- **同时编辑**: 支持多人同时编辑同一份周报
- **编辑锁定**: 防止编辑冲突的锁定机制
- **版本控制**: 自动保存编辑历史和版本
- **评论功能**: 支持在报告中添加评论和建议

**权限控制**:
- **编辑权限**: 基于角色的编辑权限控制
- **审核权限**: 分级审核机制
- **发布权限**: 发布前的最终审核权限
- **查看权限**: 不同角色的查看权限范围

## 5. 月报管理功能设计

### 5.1 月报列表管理

#### 5.1.1 月报列表字段
**列表字段**:
- **报告月份**: 月报对应的月份（如：2025年7月）
- **项目名称**: 关联的项目名称
- **客户名称**: 关联的客户名称
- **报告状态**: 草稿/待审核/已审核/已发送/已归档
- **包含周报数**: 本月包含的周报数量
- **数据看板截图**: 本月数据看板截图数量
- **月度总结**: 月度总结完成状态
- **目标达成分析**: 目标达成分析完成状态
- **下月计划**: 下月计划制定状态
- **创建人**: 报告创建人
- **创建时间**: 报告创建时间
- **最后更新时间**: 报告最后修改时间
- **操作**: 查看/编辑/审核/发送/导出

### 5.2 月报生成功能

#### 5.2.1 自动月报生成
**生成触发**:
- **定时生成**: 每月1日上午9:00自动生成上月月报框架
- **手动生成**: 用户手动触发月报生成
- **批量生成**: 批量生成多个项目的月报

**自动整合内容**:
- **周报整合**: 自动整合本月所有周报内容
- **数据汇总**: 汇总本月所有数据看板截图和数据
- **目标分析**: 自动分析月度目标完成情况
- **趋势分析**: 生成月度数据趋势分析

#### 5.2.2 月报内容结构
**报告内容模块**:
```
月报内容结构
├── 报告头部
│   ├── 项目基本信息
│   ├── 报告月份
│   └── 月度数据概览
├── 月度数据分析
│   ├── 关键指标汇总
│   ├── 月度趋势分析
│   ├── 周度数据对比
│   └── 数据看板截图集
├── 月度目标达成分析
│   ├── 目标完成情况
│   ├── 完成率分析
│   ├── 差距分析
│   └── 改进建议
├── 月度工作总结
│   ├── 主要工作成果
│   ├── 优化措施效果
│   ├── 问题解决情况
│   └── 经验总结
├── 会议记录汇总
│   ├── 重要会议记录
│   ├── 决策事项执行
│   └── 后续行动计划
├── 待办事项总结
│   ├── 月度完成事项
│   ├── 未完成事项分析
│   └── 下月待办规划
└── 下月工作计划
    ├── 重点工作安排
    ├── 目标设定
    ├── 资源需求
    └── 风险预案
```

## 6. 小结与建议管理功能设计

### 6.1 小结内容管理

#### 6.1.1 小结编辑功能
**编辑界面**:
- **分类编辑**: 按工作内容、数据表现、优化措施等分类编辑
- **模板支持**: 提供小结内容模板
- **智能提示**: 基于数据自动生成小结建议
- **格式化**: 支持富文本格式化编辑

**内容结构**:
- **工作小结**: 本周/月主要工作内容总结
- **数据小结**: 关键数据表现和变化分析
- **优化小结**: 优化措施执行情况和效果
- **问题小结**: 发现的问题和解决方案

#### 6.1.2 建议内容管理
**建议类型**:
- **优化建议**: 基于数据分析的优化建议
- **策略建议**: 营销策略和投放策略建议
- **风险建议**: 风险识别和预防建议
- **改进建议**: 流程和方法改进建议

**建议生成**:
- **数据驱动**: 基于数据趋势自动生成建议
- **模板库**: 建立建议模板库
- **专家系统**: 集成专家经验的建议系统
- **个性化**: 根据项目特点个性化建议

### 6.2 发布校正功能

#### 6.2.1 校正流程
**校正步骤**:
1. **内容审核**: 检查小结和建议内容的准确性
2. **数据校验**: 验证引用数据的正确性
3. **格式检查**: 检查格式规范和完整性
4. **专业审核**: 专业人员审核内容质量
5. **最终确认**: 最终确认后发布

**校正权限**:
- **初级校正**: 运营人员自我校正
- **中级校正**: 项目经理审核校正
- **高级校正**: 项目总监最终校正
- **专业校正**: 专业顾问参与校正

#### 6.2.2 版本历史管理
**版本控制**:
- **自动版本**: 每次编辑自动创建版本
- **版本对比**: 支持版本间内容对比
- **版本回滚**: 支持回滚到历史版本
- **版本标注**: 支持版本备注和标签

**历史记录**:
- **编辑历史**: 详细的编辑操作历史
- **审核历史**: 审核过程和意见记录
- **发布历史**: 发布时间和发布人记录
- **访问历史**: 查看和下载历史记录

## 7. 会议记录管理功能设计

### 7.1 会议记录创建

#### 7.1.1 会议记录结构
**基础信息**:
- **会议主题**: 会议的主要议题
- **会议时间**: 会议开始和结束时间
- **参会人员**: 参会人员列表和角色
- **会议类型**: 项目例会/客户沟通/问题讨论/决策会议
- **关联项目**: 会议关联的项目信息
- **会议地点**: 线上/线下会议地点

**会议内容**:
- **议题讨论**: 各议题的讨论内容和结论
- **决策事项**: 会议中做出的重要决策
- **行动计划**: 会议确定的后续行动计划
- **责任分工**: 各项任务的责任人和时间节点
- **问题记录**: 会议中提出的问题和解决方案

#### 7.1.2 会议记录模板
**模板类型**:
- **项目例会模板**: 标准的项目例会记录模板
- **客户沟通模板**: 客户沟通会议记录模板
- **问题讨论模板**: 问题讨论会议记录模板
- **决策会议模板**: 重要决策会议记录模板

**模板内容**:
```
会议记录模板结构
├── 会议基本信息
│   ├── 会议主题
│   ├── 会议时间
│   ├── 参会人员
│   └── 会议类型
├── 议题讨论
│   ├── 议题1：[议题名称]
│   │   ├── 讨论内容
│   │   ├── 不同观点
│   │   └── 达成共识
│   ├── 议题2：[议题名称]
│   └── ...
├── 决策事项
│   ├── 决策1：[决策内容]
│   ├── 决策2：[决策内容]
│   └── ...
├── 行动计划
│   ├── 任务1：[任务描述]
│   │   ├── 责任人
│   │   ├── 完成时间
│   │   └── 验收标准
│   ├── 任务2：[任务描述]
│   └── ...
└── 后续跟进
    ├── 下次会议时间
    ├── 重点关注事项
    └── 风险提示
```

### 7.2 会议记录发布功能

#### 7.2.1 发布流程
**发布步骤**:
1. **内容完善**: 完善会议记录内容
2. **参会确认**: 参会人员确认记录准确性
3. **审核批准**: 项目经理或总监审核批准
4. **正式发布**: 发布给相关人员
5. **归档存储**: 归档到项目文档库

**发布权限**:
- **记录人**: 可创建和编辑会议记录
- **参会人员**: 可查看和确认会议记录
- **项目经理**: 可审核和发布会议记录
- **项目总监**: 具有最终发布权限

#### 7.2.2 发布范围控制
**发布对象**:
- **项目团队**: 自动发布给项目相关人员
- **客户**: 根据需要发布给客户
- **管理层**: 重要会议记录发布给管理层
- **存档系统**: 自动存档到文档管理系统

**权限控制**:
- **内部会议**: 仅项目团队内部可见
- **客户会议**: 客户和项目团队可见
- **管理会议**: 管理层和相关人员可见
- **公开会议**: 全公司可见（如全员大会）

### 7.3 会议记录归档

#### 7.3.1 归档分类
**按时间归档**:
- **年度归档**: 按年度归档会议记录
- **季度归档**: 按季度归档重要会议
- **月度归档**: 按月度归档例会记录
- **项目归档**: 按项目生命周期归档

**按类型归档**:
- **例会记录**: 定期项目例会记录
- **客户沟通**: 客户沟通会议记录
- **决策会议**: 重要决策会议记录
- **问题讨论**: 问题讨论会议记录

#### 7.3.2 检索功能
**检索方式**:
- **关键词检索**: 支持全文关键词检索
- **时间检索**: 按时间范围检索会议记录
- **项目检索**: 按项目维度检索相关会议
- **参会人检索**: 按参会人员检索会议记录

## 8. 待办事项管理功能设计

### 8.1 待办事项列表

#### 8.1.1 待办事项字段
**基础字段**:
- **事项标题**: 待办事项的简要描述
- **事项描述**: 详细的事项描述和要求
- **优先级**: 高/中/低优先级
- **事项类型**: 数据优化/客户沟通/问题解决/日常维护
- **关联客户**: 事项关联的客户
- **关联项目**: 事项关联的项目
- **负责人**: 事项负责人
- **创建人**: 事项创建人
- **创建时间**: 事项创建时间
- **计划完成时间**: 预期完成时间
- **实际完成时间**: 实际完成时间
- **完成状态**: 未开始/进行中/已完成/已取消
- **完成度**: 完成百分比（0-100%）

**扩展字段**:
- **前置任务**: 需要先完成的前置任务
- **后续任务**: 完成后的后续任务
- **所需资源**: 完成任务所需的资源
- **风险评估**: 任务执行的风险评估
- **备注说明**: 额外的备注和说明

#### 8.1.2 待办事项筛选
**筛选条件**:
- **完成状态**: 按状态筛选待办事项
- **优先级**: 按优先级筛选
- **负责人**: 按负责人筛选
- **关联客户**: 按客户筛选
- **关联项目**: 按项目筛选
- **事项类型**: 按类型筛选
- **时间范围**: 按创建时间或完成时间筛选
- **逾期状态**: 筛选逾期未完成的事项

### 8.2 待办事项创建

#### 8.2.1 创建方式
**手动创建**:
- **表单创建**: 通过表单手动创建待办事项
- **快速创建**: 快速创建简单的待办事项
- **模板创建**: 基于模板创建标准化待办事项
- **批量创建**: 批量创建多个相关待办事项

**自动创建**:
- **会议生成**: 从会议记录自动生成待办事项
- **报告生成**: 从周报月报自动提取待办事项
- **系统提醒**: 基于系统规则自动创建提醒事项
- **客户反馈**: 从客户反馈自动生成处理事项

#### 8.2.2 事项模板
**模板类型**:
- **数据优化模板**: 数据分析和优化相关事项
- **客户沟通模板**: 客户沟通和服务相关事项
- **问题解决模板**: 问题处理和解决相关事项
- **日常维护模板**: 日常运营维护相关事项

### 8.3 待办事项跟踪

#### 8.3.1 进度跟踪
**跟踪方式**:
- **进度更新**: 定期更新事项完成进度
- **状态变更**: 及时更新事项状态
- **时间记录**: 记录实际工作时间
- **成果记录**: 记录工作成果和产出

**提醒机制**:
- **截止提醒**: 临近截止时间的提醒
- **逾期提醒**: 逾期未完成的提醒
- **进度提醒**: 长时间无进度更新的提醒
- **依赖提醒**: 前置任务完成的提醒

#### 8.3.2 协作跟踪
**团队协作**:
- **任务分配**: 支持任务分配给团队成员
- **协作讨论**: 支持在任务中进行讨论
- **文件共享**: 支持共享相关文件和资料
- **进度同步**: 团队成员间的进度同步

## 9. 报告导出功能设计

### 9.1 导出格式支持

#### 9.1.1 PDF导出
**PDF特性**:
- **高质量**: 保持原始格式和图片质量
- **分页优化**: 自动优化分页和排版
- **目录生成**: 自动生成报告目录
- **水印添加**: 支持添加公司水印

**PDF配置**:
- **页面设置**: A4/A3等页面尺寸选择
- **边距设置**: 自定义页面边距
- **字体设置**: 字体类型和大小设置
- **图片质量**: 图片压缩质量设置

#### 9.1.2 Word导出
**Word特性**:
- **可编辑**: 导出后可继续编辑
- **样式保持**: 保持原有样式格式
- **图表支持**: 支持图表和表格导出
- **模板应用**: 支持应用Word模板

#### 9.1.3 邮件发送
**邮件功能**:
- **直接发送**: 直接通过邮件发送报告
- **收件人管理**: 管理客户和团队邮件列表
- **邮件模板**: 提供标准的邮件模板
- **发送记录**: 记录邮件发送历史

### 9.2 批量导出功能

#### 9.2.1 批量导出设置
**批量选择**:
- **项目批量**: 按项目批量导出报告
- **客户批量**: 按客户批量导出报告
- **时间批量**: 按时间范围批量导出
- **状态批量**: 按报告状态批量导出

**导出配置**:
- **统一格式**: 批量导出使用统一格式
- **个性化**: 支持为不同客户个性化导出
- **压缩打包**: 批量导出自动压缩打包
- **命名规则**: 自定义文件命名规则

## 10. 用户交互流程设计

### 10.1 周报生成和发布流程

#### 10.1.1 标准周报流程
**操作步骤**:
1. **自动生成**: 系统每周一自动生成周报框架
2. **数据填充**: 自动填充数据看板截图和基础数据
3. **内容编辑**: 运营人员编辑小结、建议、计划等内容
4. **会议记录**: 添加本周相关会议记录
5. **待办更新**: 更新待办事项完成情况
6. **内容审核**: 项目经理审核周报内容
7. **客户发送**: 审核通过后发送给客户
8. **归档存储**: 自动归档到项目文档库

#### 10.1.2 紧急周报流程
**快速流程**:
1. **手动创建**: 手动创建紧急周报
2. **快速填充**: 使用模板快速填充内容
3. **重点突出**: 突出紧急事项和重要信息
4. **快速审核**: 简化审核流程
5. **即时发送**: 审核通过后立即发送

### 10.2 月报生成和发布流程

#### 10.2.1 标准月报流程
**操作步骤**:
1. **自动整合**: 系统自动整合本月所有周报
2. **数据汇总**: 汇总本月数据和截图
3. **目标分析**: 分析月度目标完成情况
4. **内容编辑**: 编辑月度总结和下月计划
5. **综合审核**: 多级审核确保质量
6. **客户沟通**: 与客户沟通月报内容
7. **正式发布**: 正式发布月报
8. **效果跟踪**: 跟踪月报的客户反馈

## 11. 数据结构设计

### 11.1 周报数据表
```
周报表 (weekly_reports)
- id: 周报唯一标识
- project_id: 关联项目ID
- customer_id: 关联客户ID
- report_week: 报告周次 (YYYY-WW格式)
- report_year: 报告年份
- week_number: 周次
- status: 报告状态 (draft/pending/approved/sent/archived)
- auto_screenshot: 是否包含自动截图
- screenshot_ids: 关联截图ID列表 (JSON格式)
- content: 报告内容 (JSON格式)
- summary: 工作小结
- suggestions: 建议内容
- next_week_plan: 下周计划
- meeting_records: 关联会议记录ID列表
- todo_items: 关联待办事项ID列表
- created_by: 创建人ID
- created_at: 创建时间
- updated_at: 更新时间
- approved_by: 审核人ID
- approved_at: 审核时间
- sent_at: 发送时间
```

### 11.2 月报数据表
```
月报表 (monthly_reports)
- id: 月报唯一标识
- project_id: 关联项目ID
- customer_id: 关联客户ID
- report_month: 报告月份 (YYYY-MM格式)
- report_year: 报告年份
- month_number: 月份
- status: 报告状态
- weekly_report_ids: 包含的周报ID列表
- screenshot_count: 数据看板截图数量
- content: 报告内容 (JSON格式)
- monthly_summary: 月度总结
- goal_analysis: 目标达成分析
- next_month_plan: 下月计划
- created_by: 创建人ID
- created_at: 创建时间
- updated_at: 更新时间
- approved_by: 审核人ID
- approved_at: 审核时间
- sent_at: 发送时间
```

### 11.3 截图记录表
```
截图记录表 (dashboard_screenshots)
- id: 截图记录唯一标识
- project_id: 关联项目ID
- customer_id: 关联客户ID
- screenshot_time: 截图时间
- week_number: 周次
- file_path: 截图文件路径
- file_name: 截图文件名
- file_size: 文件大小
- quality_status: 质量检查状态 (good/poor/failed)
- usage_status: 使用状态 (unused/used/archived)
- created_at: 创建时间
```

### 11.4 会议记录表
```
会议记录表 (meeting_records)
- id: 会议记录唯一标识
- project_id: 关联项目ID
- customer_id: 关联客户ID
- meeting_title: 会议主题
- meeting_type: 会议类型
- meeting_time: 会议时间
- attendees: 参会人员 (JSON格式)
- agenda: 会议议程 (JSON格式)
- decisions: 决策事项 (JSON格式)
- action_items: 行动计划 (JSON格式)
- content: 会议内容
- status: 发布状态 (draft/published/archived)
- created_by: 创建人ID
- created_at: 创建时间
- published_at: 发布时间
```

### 11.5 待办事项表
```
待办事项表 (todo_items)
- id: 待办事项唯一标识
- customer_id: 关联客户ID
- project_id: 关联项目ID
- title: 事项标题
- description: 事项描述
- priority: 优先级 (high/medium/low)
- type: 事项类型
- assignee_id: 负责人ID
- creator_id: 创建人ID
- planned_completion_date: 计划完成时间
- actual_completion_date: 实际完成时间
- status: 完成状态 (not_started/in_progress/completed/cancelled)
- progress: 完成度 (0-100)
- source: 来源 (manual/meeting/report/system)
- source_id: 来源记录ID
- created_at: 创建时间
- updated_at: 更新时间
```

## 12. 界面设计要求

### 12.1 报告列表界面

#### 12.1.1 列表设计规范
**表格样式**:
- **响应式设计**: 适配不同屏幕尺寸
- **固定表头**: 滚动时表头固定
- **斑马纹显示**: 提高可读性
- **状态标识**: 用颜色和图标标识不同状态

**操作按钮**:
- **主要操作**: 查看、编辑、发送等主要操作
- **次要操作**: 删除、归档等次要操作
- **批量操作**: 支持批量选择和操作
- **快捷操作**: 常用操作的快捷按钮

#### 12.1.2 筛选和搜索界面
**筛选器设计**:
- **折叠展开**: 高级筛选支持折叠展开
- **快速筛选**: 常用筛选条件快速选择
- **筛选标签**: 已选筛选条件标签显示
- **一键清除**: 快速清除所有筛选条件

### 12.2 报告编辑界面

#### 12.2.1 编辑器设计
**富文本编辑器**:
- **工具栏**: 完整的格式化工具栏
- **实时预览**: 支持实时预览效果
- **自动保存**: 定时自动保存编辑内容
- **版本控制**: 支持版本历史和回滚

**布局设计**:
- **左右分栏**: 编辑区和预览区分栏显示
- **全屏编辑**: 支持全屏编辑模式
- **模块化**: 报告内容模块化编辑
- **拖拽排序**: 支持模块拖拽排序

#### 12.2.2 协作界面
**多人协作**:
- **在线状态**: 显示其他编辑者在线状态
- **编辑冲突**: 编辑冲突的提示和处理
- **评论系统**: 支持添加评论和回复
- **变更追踪**: 显示内容变更和编辑者

## 13. 权限控制设计

### 13.1 基于角色的访问控制

#### 13.1.1 角色权限矩阵
| 功能模块 | 项目总监 | 项目经理 | 运营人员 | 销售总监 | 销售经理 | 销售人员 |
|---------|---------|---------|---------|---------|---------|---------|
| 查看所有报告 | ✓ | - | - | ✓ | - | - |
| 查看团队报告 | ✓ | ✓ | - | ✓ | ✓ | - |
| 查看负责项目报告 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 创建报告 | ✓ | ✓ | ✓ | - | - | - |
| 编辑报告 | ✓ | ✓ | ✓ | - | - | - |
| 审核报告 | ✓ | ✓ | - | ✓ | ✓ | - |
| 发送报告 | ✓ | ✓ | - | ✓ | ✓ | ✓ |
| 系统配置 | ✓ | - | - | - | - | - |
| 截图管理 | ✓ | ✓ | ✓ | - | - | - |
| 会议记录管理 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |
| 待办事项管理 | ✓ | ✓ | ✓ | ✓ | ✓ | ✓ |

### 13.2 数据权限控制

#### 13.2.1 数据访问范围
**项目维度权限**:
- **项目总监**: 可访问所有项目的报告数据
- **项目经理**: 可访问管理团队的项目报告数据
- **运营人员**: 只能访问负责项目的报告数据

**客户维度权限**:
- **销售总监**: 可访问所有客户的报告数据
- **销售经理**: 可访问管理团队的客户报告数据
- **销售人员**: 只能访问负责客户的报告数据

## 14. 业务规则设计

### 14.1 报告生成规则

#### 14.1.1 自动生成规则
**周报生成规则**:
- **生成时间**: 每周一上午9:00自动生成
- **数据截止**: 以上周日23:59:59为数据截止时间
- **截图关联**: 自动关联上周末的数据看板截图
- **模板应用**: 自动应用项目对应的周报模板

**月报生成规则**:
- **生成时间**: 每月1日上午9:00自动生成
- **周报整合**: 自动整合上月所有周报内容
- **数据汇总**: 汇总上月所有数据和截图
- **目标分析**: 自动分析月度目标完成情况

#### 14.1.2 截图保存规则
**截图时间规则**:
- **固定时间**: 每周日23:59:59执行截图
- **重试机制**: 失败时每小时重试一次，最多重试3次
- **异常处理**: 连续失败时发送通知给管理员
- **手动补充**: 支持手动补充缺失的截图

**截图质量规则**:
- **分辨率要求**: 最低1920x1080分辨率
- **文件大小**: 单个截图文件不超过10MB
- **清晰度检查**: 自动检查图片清晰度
- **完整性验证**: 验证关键数据区域是否完整

### 14.2 发布流程规则

#### 14.2.1 审核流程规则
**分级审核**:
- **一级审核**: 运营人员自检
- **二级审核**: 项目经理审核
- **三级审核**: 项目总监最终审核（重要报告）
- **客户确认**: 重要报告需客户确认

**审核标准**:
- **内容完整性**: 检查报告内容是否完整
- **数据准确性**: 验证数据的准确性
- **格式规范性**: 检查格式是否符合规范
- **专业性**: 评估报告的专业水平

#### 14.2.2 发布权限规则
**发布权限分级**:
- **内部发布**: 项目经理及以上可发布
- **客户发布**: 需要销售人员参与或确认
- **重要报告**: 需要项目总监最终确认
- **紧急报告**: 可简化审核流程快速发布

## 15. 总结

### 15.1 核心功能特点
本周报月报管理模块设计具有以下核心特点：
- **自动化截图**: 每周最后一天23:59:59自动截图项目数据看板
- **智能报告生成**: 基于截图和数据自动生成报告框架
- **综合管理**: 集成小结建议、会议记录、待办事项管理
- **协作支持**: 支持多人协作编辑和审核流程
- **权限控制**: 基于角色的精细化权限管理
- **多格式导出**: 支持PDF、Word等多种格式导出

### 15.2 设计优势
- **效率提升**: 通过自动化大幅提升报告生成效率
- **数据一致**: 与项目数据看板保持完全一致
- **质量保证**: 多级审核确保报告质量
- **客户满意**: 专业的报告提升客户满意度
- **团队协作**: 完善的协作功能提升团队效率

### 15.3 实施建议
- **分阶段实施**: 建议先实现核心功能，再逐步完善
- **用户培训**: 为团队提供系统使用培训
- **模板建设**: 建立完善的报告模板库
- **持续优化**: 根据使用反馈持续优化功能

本设计文档为周报月报管理模块的开发提供了详细的功能规范和设计指导，确保产品能够满足项目团队的实际业务需求，并与现有系统保持良好的一致性和兼容性。